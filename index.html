<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>ÙØ§ØªÙˆØ±Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</title>
  <style>
    body {
      font-family: "Tahoma", sans-serif;
      margin: 0;
      padding: 0;
      background: #f5f6fa;
      color: #333;
    }
    header {
      display: flex;
      justify-content: space-between;
      padding: 15px;
      gap: 10px;
    }
    .box {
      flex: 1;
      padding: 15px;
      border-radius: 10px;
      text-align: center;
      font-weight: bold;
      font-size: 18px;
      color: #fff;
    }
    .total { background: #3498db; }      /* Ø£Ø²Ø±Ù‚ */
    .paid { background: #2ecc71; }       /* Ø£Ø®Ø¶Ø± */
    .remain { background: #e74c3c; }     /* Ø£Ø­Ù…Ø± */
    
    table {
      width: 95%;
      margin: 10px auto;
      border-collapse: collapse;
      background: #fff;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    th, td {
      padding: 10px;
      border-bottom: 1px solid #ddd;
      text-align: center;
    }
    th {
      background: #f1f1f1;
    }
    tfoot td {
      font-weight: bold;
      background: #fafafa;
    }
    .actions {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin: 15px;
    }
    button {
      padding: 12px 20px;
      font-size: 16px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-weight: bold;
    }
    .add { background: #2980b9; color: #fff; }
    .pay { background: #27ae60; color: #fff; }
  </style>
</head>
<body>

  <!-- Ø§Ù„Ù…Ø±Ø¨Ø¹Ø§Øª Ø§Ù„Ø¹Ù„ÙˆÙŠØ© -->
  <header>
    <div class="box total">Ø¥Ø¬Ù…Ø§Ù„ÙŠ: <span id="total">0</span> Ø¬.Ù…</div>
    <div class="box paid">Ù…Ø¯ÙÙˆØ¹: <span id="paid">0</span> Ø¬.Ù…</div>
    <div class="box remain">Ù…ØªØ¨Ù‚ÙŠ: <span id="remain">0</span> Ø¬.Ù…</div>
  </header>

  <!-- Ø¬Ø¯ÙˆÙ„ Ø§Ù„ÙØ§ØªÙˆØ±Ø© -->
  <table id="invoiceTable">
    <thead>
      <tr>
        <th>Ø§Ù„Ø¹Ø¯Ø¯</th>
        <th>Ø§Ù„ØµÙ†Ù</th>
        <th>Ø³Ø¹Ø± Ø§Ù„ÙˆØ­Ø¯Ø©</th>
        <th>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</th>
      </tr>
    </thead>
    <tbody></tbody>
    <tfoot>
      <tr>
        <td colspan="3">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙƒÙ„ÙŠ</td>
        <td id="grandTotal">0</td>
      </tr>
    </tfoot>
  </table>

  <!-- Ø§Ù„Ø£Ø²Ø±Ø§Ø± -->
  <div class="actions">
    <button class="add" onclick="addItem()">â• Ø¥Ø¶Ø§ÙØ© ØµÙ†Ù</button>
    <button class="pay" onclick="addPayment()">ğŸ’³ ØªØ³Ø¬ÙŠÙ„ Ø¯ÙØ¹Ø©</button>
  </div>

  <script>
    let total = 0;
    let paid = 0;

    function updateBoxes() {
      document.getElementById("total").textContent = total;
      document.getElementById("paid").textContent = paid;
      document.getElementById("remain").textContent = total - paid;
      document.getElementById("grandTotal").textContent = total;
    }

    function addItem() {
      const qty = prompt("Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¹Ø¯Ø¯:");
      const item = prompt("Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„ØµÙ†Ù:");
      const price = prompt("Ø£Ø¯Ø®Ù„ Ø³Ø¹Ø± Ø§Ù„ÙˆØ­Ø¯Ø©:");

      if (!qty || !item || !price) return;

      const row = document.createElement("tr");
      const subtotal = qty * price;

      row.innerHTML = `
        <td>${qty}</td>
        <td>${item}</td>
        <td>${price}</td>
        <td>${subtotal}</td>
      `;

      document.querySelector("#invoiceTable tbody").appendChild(row);

      total += subtotal;
      updateBoxes();
    }

    function addPayment() {
      const amount = prompt("Ø£Ø¯Ø®Ù„ Ù‚ÙŠÙ…Ø© Ø§Ù„Ø¯ÙØ¹Ø©:");
      if (!amount) return;

      paid += Number(amount);
      updateBoxes();

      const row = document.createElement("tr");
      row.innerHTML = `
        <td colspan="3">ğŸ’³ Ø¯ÙØ¹Ø© (${new Date().toLocaleDateString()})</td>
        <td>- ${amount}</td>
      `;
      document.querySelector("#invoiceTable tbody").appendChild(row);
    }
  </script>

</body>
</html>
